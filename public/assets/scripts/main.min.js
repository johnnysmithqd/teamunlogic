(function() {
    var clickable = {
        elements: document.querySelectorAll('[data-href]'),

        redirect_to: function(href, target) {
            target = target || "";
            clickable.simulate_anchor(href, target);
        },

        simulate_anchor: function(href, target) {
            var anchor = document.createElement("a");
            anchor.setAttribute('href', href);
            anchor.setAttribute('target', target);
            anchor.click();
        },

        init: function() {
            for (var i = 0; i < this.elements.length; i++) {
                var element = this.elements[i];
                element.style.cursor = 'pointer';
                element.addEventListener('click', function() {
                    if ($(this).attr('data-target') == "_blank") {
                        var win = window.open($(this).attr('data-href'), '_blank');
                        win.focus();
                    } else {
                        window.location = $(this).attr('data-href');
                    }
                    // clickable.redirect_to(
                    //     this.getAttribute('data-href'),
                    //     this.getAttribute('data-target')
                    // );
                }, false);
            }
        }
    };

    clickable.init();
})();
/*
 *
 * Foundation
 * ----------------------- */
$(document).foundation();

/*
 *
 * Functions
 * ----------------------- */
var engineCarousel = function(){
	var heroCarouselImage = $('#hero .hero__carousel-image');
	var heroCarouselInfo = $('#hero .hero__carousel-info');
	var bookingCarousel = $('#booking .booking__carousel');

	heroCarouselImage.owlCarousel({
		items: 1,
		lazyLoad: true,
		loop: true,
		autoplay: true,
		autoplayTimeout: 7000,
		animateOut: 'fadeOut',
		animateIn: 'fadeIn',
		dotsClass: 'hero__carousel-dots',
		dotClass: 'hero__carousel-dot',
	}).on('changed.owl.carousel', function (e) {
      heroCarouselInfo.trigger('to.owl.carousel', [e.item.index, 100]);
  });

	heroCarouselInfo.owlCarousel({
		items: 1,
		loop: true,
		lazyLoad: true,
		autoplay: true,
		autoplayTimeout: 7000,
		animateOut: 'fadeOut',
		animateIn: 'fadeIn',
	});

	bookingCarousel.owlCarousel({
		lazyLoad: true,
		autoplay: false,
		loop: true,
		pagination: false,
    stagePadding: 0,
    dots: true,
    margin: 5,
		dotsClass: 'booking__carousel-dots',
		dotClass: 'booking__carousel-dot',
		responsive:{
      0:{
          items:1
      },
      500:{
          items:2
      },
      800:{
          items:3
      }
    }
	});

	// $('.accessories__carousel').mouseenter(function() {
	// 	$('.accessories__carousel-control-previous').removeClass('fadeOutLeft');
	// 	$('.accessories__carousel-control-previous').addClass('fadeInLeft');
	// 	$('.accessories__carousel-control-next').removeClass('fadeOutRight');
	// 	$('.accessories__carousel-control-next').addClass('fadeInRight');
	// }).mouseleave(function(){
	// 	$('.accessories__carousel-control-previous').removeClass('fadeInLeft');
	// 	$('.accessories__carousel-control-previous').addClass('fadeOutLeft');
	// 	$('.accessories__carousel-control-next').removeClass('fadeInRight');
	// 	$('.accessories__carousel-control-next').addClass('fadeOutRight');
	// });
}

/*
 *
 * Document Ready
 * ----------------------- */
$(document).ready(function() {
	engineCarousel();

	$('.bottombar__anchor').hover(function(){
		$('.bottombar__anchor').toggleClass('not-hovered');
	});
});

$(document).on('click', '.accessories__carousel-control-previous', function(ev){
	ev.preventDefault();

	var owl;
	owl = $('.accessories__carousel .accessories__carousel-content').data('owlCarousel');
 	return owl.prev();
})

$(document).on('click', '.accessories__carousel-control-next', function(ev){
	ev.preventDefault();

	var owl;
	owl = $('.accessories__carousel .accessories__carousel-content').data('owlCarousel');
	return owl.next();
})

/*
 *
 * Window Resize
 * ----------------------- */
$(window).resize(function(){

});

maps = function() {
	var init, render;

	render = function() {
		var map, marker, myOptions, style;
		style = [
		{
			"stylers": [
			{
				"saturation": -100
			}, {
				"gamma": 0.8
			}, {
				"lightness": 4
			}, {
				"visibility": "on"
			}
			]
		}, {
			"featureType": "landscape.natural",
			"stylers": [
			{
				"visibility": "on"
			}, {
				"color": "#000"
			}, {
				"gamma": 4.97
			}, {
				"lightness": -5
			}, {
				"saturation": 100
			}
			]
		}
		];
		myOptions = {
			zoom: 14,
			center: new google.maps.LatLng(-5.868847,-35.224805),
			mapTypeId: google.maps.MapTypeId.ROADMAP,
			styles: style,
			mapTypeControl: false,
			streetViewControl: false,
			scrollwheel: false,
			navigationControl: false,
			scaleControl: false,
			overviewMapControl: false,
			panControl: true,
			zoomControl: true,
			zoomControlOptions: {
				style: google.maps.ZoomControlStyle.LARGE
			}
		};
		if (document.getElementById('map')) {
			map = new google.maps.Map(document.getElementById('map'), myOptions);

			marker1 = new google.maps.Marker({
				position: new google.maps.LatLng(-5.853268,-35.201525),
				map: map,
				icon: 'http://dz3.com.br/aguiapiscinas/wp-content/themes/guia-piscinas-theme/assets/images/marker.png'
			});
			marker2 = new google.maps.Marker({
				position: new google.maps.LatLng(-5.880847,-35.214805),
				map: map,
				icon: 'http://dz3.com.br/aguiapiscinas/wp-content/themes/guia-piscinas-theme/assets/images/marker.png'
			});
			marker3 = new google.maps.Marker({
				position: new google.maps.LatLng(-5.888749,-35.268672),
				map: map,
				icon: 'http://dz3.com.br/aguiapiscinas/wp-content/themes/guia-piscinas-theme/assets/images/marker.png'
			});



			// var infowindow1 = new google.maps.InfoWindow({
			// 	content: '<div id="content" class="map__info">'+
			// 	'<h4 class="map__title">Cinema da Fundaj</h4>'+
			// 	'<div id="bodyContent">'+
			// 	'<p class="map__address"><b>Rua Henrique Dias, 609 - Derby - Recife/PE</b></p>' +
			// 	'</div>'+
			// 	'</div>'
			// });

			// google.maps.event.addListener(marker1, 'mouseover', function() {
			// 	infowindow1.open(map, marker1);
			// });
		}
	};
	init = function() {
		if (document.getElementById('map')) {
			return render();
		}
	};
	return {
		init: init
	};
};

$(document).ready(function(){
	var map = maps();
	map.init();
});

function scrollHandler() {
  var scrollTop = $(window).scrollTop();

  var topbar = $('#topbar');
  var topbarHeight = topbar.outerHeight();

	if (scrollTop > topbarHeight) {
		classie.add(topbar[0], 'fixed-topbar');
	} else {
		classie.remove(topbar[0], 'fixed-topbar');
	}
}

$(window).scroll(scrollHandler);

/*
 * Scroll To
 *
 * When a 'data-scroll-to' element is
 * activated (by click), scroll page to
 * his element.
 *
 * data-scroll-to="#<id>"
 * data-offset="<offset>"
 * data-time="<time>"
 *
 * ------------------------------ */

 $(document).ready(function(ev){
   $('[data-scroll-to]').css('cursor', 'pointer');
 });

 $(document).on('click', '[data-scroll-to]', function(ev) {
  ev.preventDefault();

  var $scope = $('html, body');
  var $target = $($(this).attr('data-scroll-to'));
  var diff = $(this).attr('data-scroll-diff');
  console.log(diff);

  if (!diff) {
  	diff = 0;
	}

  if ( $(this).closest('.fixed-navbar').length > 0 ) {
  	diff = 94;
  }
  $scope.animate({
    scrollTop: $target.offset().top - diff
  }, 500);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaWNrYWJsZS5qcyIsIm1haW4uanMiLCJtYXAuanMiLCJzY3JvbGxfaGFuZGxlci5qcyIsInNjcm9sbF90by5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNsaWNrYWJsZSA9IHtcbiAgICAgICAgZWxlbWVudHM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLWhyZWZdJyksXG5cbiAgICAgICAgcmVkaXJlY3RfdG86IGZ1bmN0aW9uKGhyZWYsIHRhcmdldCkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IFwiXCI7XG4gICAgICAgICAgICBjbGlja2FibGUuc2ltdWxhdGVfYW5jaG9yKGhyZWYsIHRhcmdldCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2ltdWxhdGVfYW5jaG9yOiBmdW5jdGlvbihocmVmLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsIHRhcmdldCk7XG4gICAgICAgICAgICBhbmNob3IuY2xpY2soKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoJ2RhdGEtdGFyZ2V0JykgPT0gXCJfYmxhbmtcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKCQodGhpcykuYXR0cignZGF0YS1ocmVmJyksICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbi5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJCh0aGlzKS5hdHRyKCdkYXRhLWhyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBjbGlja2FibGUucmVkaXJlY3RfdG8oXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1ocmVmJyksXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKVxuICAgICAgICAgICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBjbGlja2FibGUuaW5pdCgpO1xufSkoKTsiLCIvKlxuICpcbiAqIEZvdW5kYXRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4kKGRvY3VtZW50KS5mb3VuZGF0aW9uKCk7XG5cbi8qXG4gKlxuICogRnVuY3Rpb25zXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xudmFyIGVuZ2luZUNhcm91c2VsID0gZnVuY3Rpb24oKXtcblx0dmFyIGhlcm9DYXJvdXNlbEltYWdlID0gJCgnI2hlcm8gLmhlcm9fX2Nhcm91c2VsLWltYWdlJyk7XG5cdHZhciBoZXJvQ2Fyb3VzZWxJbmZvID0gJCgnI2hlcm8gLmhlcm9fX2Nhcm91c2VsLWluZm8nKTtcblx0dmFyIGJvb2tpbmdDYXJvdXNlbCA9ICQoJyNib29raW5nIC5ib29raW5nX19jYXJvdXNlbCcpO1xuXG5cdGhlcm9DYXJvdXNlbEltYWdlLm93bENhcm91c2VsKHtcblx0XHRpdGVtczogMSxcblx0XHRsYXp5TG9hZDogdHJ1ZSxcblx0XHRsb29wOiB0cnVlLFxuXHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdGF1dG9wbGF5VGltZW91dDogNzAwMCxcblx0XHRhbmltYXRlT3V0OiAnZmFkZU91dCcsXG5cdFx0YW5pbWF0ZUluOiAnZmFkZUluJyxcblx0XHRkb3RzQ2xhc3M6ICdoZXJvX19jYXJvdXNlbC1kb3RzJyxcblx0XHRkb3RDbGFzczogJ2hlcm9fX2Nhcm91c2VsLWRvdCcsXG5cdH0pLm9uKCdjaGFuZ2VkLm93bC5jYXJvdXNlbCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBoZXJvQ2Fyb3VzZWxJbmZvLnRyaWdnZXIoJ3RvLm93bC5jYXJvdXNlbCcsIFtlLml0ZW0uaW5kZXgsIDEwMF0pO1xuICB9KTtcblxuXHRoZXJvQ2Fyb3VzZWxJbmZvLm93bENhcm91c2VsKHtcblx0XHRpdGVtczogMSxcblx0XHRsb29wOiB0cnVlLFxuXHRcdGxhenlMb2FkOiB0cnVlLFxuXHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdGF1dG9wbGF5VGltZW91dDogNzAwMCxcblx0XHRhbmltYXRlT3V0OiAnZmFkZU91dCcsXG5cdFx0YW5pbWF0ZUluOiAnZmFkZUluJyxcblx0fSk7XG5cblx0Ym9va2luZ0Nhcm91c2VsLm93bENhcm91c2VsKHtcblx0XHRsYXp5TG9hZDogdHJ1ZSxcblx0XHRhdXRvcGxheTogZmFsc2UsXG5cdFx0bG9vcDogdHJ1ZSxcblx0XHRwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICBzdGFnZVBhZGRpbmc6IDAsXG4gICAgZG90czogdHJ1ZSxcbiAgICBtYXJnaW46IDUsXG5cdFx0ZG90c0NsYXNzOiAnYm9va2luZ19fY2Fyb3VzZWwtZG90cycsXG5cdFx0ZG90Q2xhc3M6ICdib29raW5nX19jYXJvdXNlbC1kb3QnLFxuXHRcdHJlc3BvbnNpdmU6e1xuICAgICAgMDp7XG4gICAgICAgICAgaXRlbXM6MVxuICAgICAgfSxcbiAgICAgIDUwMDp7XG4gICAgICAgICAgaXRlbXM6MlxuICAgICAgfSxcbiAgICAgIDgwMDp7XG4gICAgICAgICAgaXRlbXM6M1xuICAgICAgfVxuICAgIH1cblx0fSk7XG5cblx0Ly8gJCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbCcpLm1vdXNlZW50ZXIoZnVuY3Rpb24oKSB7XG5cdC8vIFx0JCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbC1jb250cm9sLXByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2ZhZGVPdXRMZWZ0Jyk7XG5cdC8vIFx0JCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbC1jb250cm9sLXByZXZpb3VzJykuYWRkQ2xhc3MoJ2ZhZGVJbkxlZnQnKTtcblx0Ly8gXHQkKCcuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRyb2wtbmV4dCcpLnJlbW92ZUNsYXNzKCdmYWRlT3V0UmlnaHQnKTtcblx0Ly8gXHQkKCcuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRyb2wtbmV4dCcpLmFkZENsYXNzKCdmYWRlSW5SaWdodCcpO1xuXHQvLyB9KS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7XG5cdC8vIFx0JCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbC1jb250cm9sLXByZXZpb3VzJykucmVtb3ZlQ2xhc3MoJ2ZhZGVJbkxlZnQnKTtcblx0Ly8gXHQkKCcuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRyb2wtcHJldmlvdXMnKS5hZGRDbGFzcygnZmFkZU91dExlZnQnKTtcblx0Ly8gXHQkKCcuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRyb2wtbmV4dCcpLnJlbW92ZUNsYXNzKCdmYWRlSW5SaWdodCcpO1xuXHQvLyBcdCQoJy5hY2Nlc3Nvcmllc19fY2Fyb3VzZWwtY29udHJvbC1uZXh0JykuYWRkQ2xhc3MoJ2ZhZGVPdXRSaWdodCcpO1xuXHQvLyB9KTtcbn1cblxuLypcbiAqXG4gKiBEb2N1bWVudCBSZWFkeVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRlbmdpbmVDYXJvdXNlbCgpO1xuXG5cdCQoJy5ib3R0b21iYXJfX2FuY2hvcicpLmhvdmVyKGZ1bmN0aW9uKCl7XG5cdFx0JCgnLmJvdHRvbWJhcl9fYW5jaG9yJykudG9nZ2xlQ2xhc3MoJ25vdC1ob3ZlcmVkJyk7XG5cdH0pO1xufSk7XG5cbiQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRyb2wtcHJldmlvdXMnLCBmdW5jdGlvbihldil7XG5cdGV2LnByZXZlbnREZWZhdWx0KCk7XG5cblx0dmFyIG93bDtcblx0b3dsID0gJCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbCAuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRlbnQnKS5kYXRhKCdvd2xDYXJvdXNlbCcpO1xuIFx0cmV0dXJuIG93bC5wcmV2KCk7XG59KVxuXG4kKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmFjY2Vzc29yaWVzX19jYXJvdXNlbC1jb250cm9sLW5leHQnLCBmdW5jdGlvbihldil7XG5cdGV2LnByZXZlbnREZWZhdWx0KCk7XG5cblx0dmFyIG93bDtcblx0b3dsID0gJCgnLmFjY2Vzc29yaWVzX19jYXJvdXNlbCAuYWNjZXNzb3JpZXNfX2Nhcm91c2VsLWNvbnRlbnQnKS5kYXRhKCdvd2xDYXJvdXNlbCcpO1xuXHRyZXR1cm4gb3dsLm5leHQoKTtcbn0pXG5cbi8qXG4gKlxuICogV2luZG93IFJlc2l6ZVxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKXtcblxufSk7XG4iLCJtYXBzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBpbml0LCByZW5kZXI7XG5cblx0cmVuZGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG1hcCwgbWFya2VyLCBteU9wdGlvbnMsIHN0eWxlO1xuXHRcdHN0eWxlID0gW1xuXHRcdHtcblx0XHRcdFwic3R5bGVyc1wiOiBbXG5cdFx0XHR7XG5cdFx0XHRcdFwic2F0dXJhdGlvblwiOiAtMTAwXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwiZ2FtbWFcIjogMC44XG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwibGlnaHRuZXNzXCI6IDRcblx0XHRcdH0sIHtcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib25cIlxuXHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sIHtcblx0XHRcdFwiZmVhdHVyZVR5cGVcIjogXCJsYW5kc2NhcGUubmF0dXJhbFwiLFxuXHRcdFx0XCJzdHlsZXJzXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJ2aXNpYmlsaXR5XCI6IFwib25cIlxuXHRcdFx0fSwge1xuXHRcdFx0XHRcImNvbG9yXCI6IFwiIzAwMFwiXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwiZ2FtbWFcIjogNC45N1xuXHRcdFx0fSwge1xuXHRcdFx0XHRcImxpZ2h0bmVzc1wiOiAtNVxuXHRcdFx0fSwge1xuXHRcdFx0XHRcInNhdHVyYXRpb25cIjogMTAwXG5cdFx0XHR9XG5cdFx0XHRdXG5cdFx0fVxuXHRcdF07XG5cdFx0bXlPcHRpb25zID0ge1xuXHRcdFx0em9vbTogMTQsXG5cdFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTUuODY4ODQ3LC0zNS4yMjQ4MDUpLFxuXHRcdFx0bWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUCxcblx0XHRcdHN0eWxlczogc3R5bGUsXG5cdFx0XHRtYXBUeXBlQ29udHJvbDogZmFsc2UsXG5cdFx0XHRzdHJlZXRWaWV3Q29udHJvbDogZmFsc2UsXG5cdFx0XHRzY3JvbGx3aGVlbDogZmFsc2UsXG5cdFx0XHRuYXZpZ2F0aW9uQ29udHJvbDogZmFsc2UsXG5cdFx0XHRzY2FsZUNvbnRyb2w6IGZhbHNlLFxuXHRcdFx0b3ZlcnZpZXdNYXBDb250cm9sOiBmYWxzZSxcblx0XHRcdHBhbkNvbnRyb2w6IHRydWUsXG5cdFx0XHR6b29tQ29udHJvbDogdHJ1ZSxcblx0XHRcdHpvb21Db250cm9sT3B0aW9uczoge1xuXHRcdFx0XHRzdHlsZTogZ29vZ2xlLm1hcHMuWm9vbUNvbnRyb2xTdHlsZS5MQVJHRVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0aWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSkge1xuXHRcdFx0bWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIG15T3B0aW9ucyk7XG5cblx0XHRcdG1hcmtlcjEgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0XHRcdFx0cG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTUuODUzMjY4LC0zNS4yMDE1MjUpLFxuXHRcdFx0XHRtYXA6IG1hcCxcblx0XHRcdFx0aWNvbjogJ2h0dHA6Ly9kejMuY29tLmJyL2FndWlhcGlzY2luYXMvd3AtY29udGVudC90aGVtZXMvZ3VpYS1waXNjaW5hcy10aGVtZS9hc3NldHMvaW1hZ2VzL21hcmtlci5wbmcnXG5cdFx0XHR9KTtcblx0XHRcdG1hcmtlcjIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0XHRcdFx0cG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTUuODgwODQ3LC0zNS4yMTQ4MDUpLFxuXHRcdFx0XHRtYXA6IG1hcCxcblx0XHRcdFx0aWNvbjogJ2h0dHA6Ly9kejMuY29tLmJyL2FndWlhcGlzY2luYXMvd3AtY29udGVudC90aGVtZXMvZ3VpYS1waXNjaW5hcy10aGVtZS9hc3NldHMvaW1hZ2VzL21hcmtlci5wbmcnXG5cdFx0XHR9KTtcblx0XHRcdG1hcmtlcjMgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcblx0XHRcdFx0cG9zaXRpb246IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoLTUuODg4NzQ5LC0zNS4yNjg2NzIpLFxuXHRcdFx0XHRtYXA6IG1hcCxcblx0XHRcdFx0aWNvbjogJ2h0dHA6Ly9kejMuY29tLmJyL2FndWlhcGlzY2luYXMvd3AtY29udGVudC90aGVtZXMvZ3VpYS1waXNjaW5hcy10aGVtZS9hc3NldHMvaW1hZ2VzL21hcmtlci5wbmcnXG5cdFx0XHR9KTtcblxuXG5cblx0XHRcdC8vIHZhciBpbmZvd2luZG93MSA9IG5ldyBnb29nbGUubWFwcy5JbmZvV2luZG93KHtcblx0XHRcdC8vIFx0Y29udGVudDogJzxkaXYgaWQ9XCJjb250ZW50XCIgY2xhc3M9XCJtYXBfX2luZm9cIj4nK1xuXHRcdFx0Ly8gXHQnPGg0IGNsYXNzPVwibWFwX190aXRsZVwiPkNpbmVtYSBkYSBGdW5kYWo8L2g0PicrXG5cdFx0XHQvLyBcdCc8ZGl2IGlkPVwiYm9keUNvbnRlbnRcIj4nK1xuXHRcdFx0Ly8gXHQnPHAgY2xhc3M9XCJtYXBfX2FkZHJlc3NcIj48Yj5SdWEgSGVucmlxdWUgRGlhcywgNjA5IC0gRGVyYnkgLSBSZWNpZmUvUEU8L2I+PC9wPicgK1xuXHRcdFx0Ly8gXHQnPC9kaXY+Jytcblx0XHRcdC8vIFx0JzwvZGl2Pidcblx0XHRcdC8vIH0pO1xuXG5cdFx0XHQvLyBnb29nbGUubWFwcy5ldmVudC5hZGRMaXN0ZW5lcihtYXJrZXIxLCAnbW91c2VvdmVyJywgZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBcdGluZm93aW5kb3cxLm9wZW4obWFwLCBtYXJrZXIxKTtcblx0XHRcdC8vIH0pO1xuXHRcdH1cblx0fTtcblx0aW5pdCA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJykpIHtcblx0XHRcdHJldHVybiByZW5kZXIoKTtcblx0XHR9XG5cdH07XG5cdHJldHVybiB7XG5cdFx0aW5pdDogaW5pdFxuXHR9O1xufTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0dmFyIG1hcCA9IG1hcHMoKTtcblx0bWFwLmluaXQoKTtcbn0pO1xuIiwiZnVuY3Rpb24gc2Nyb2xsSGFuZGxlcigpIHtcbiAgdmFyIHNjcm9sbFRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICB2YXIgdG9wYmFyID0gJCgnI3RvcGJhcicpO1xuICB2YXIgdG9wYmFySGVpZ2h0ID0gdG9wYmFyLm91dGVySGVpZ2h0KCk7XG5cblx0aWYgKHNjcm9sbFRvcCA+IHRvcGJhckhlaWdodCkge1xuXHRcdGNsYXNzaWUuYWRkKHRvcGJhclswXSwgJ2ZpeGVkLXRvcGJhcicpO1xuXHR9IGVsc2Uge1xuXHRcdGNsYXNzaWUucmVtb3ZlKHRvcGJhclswXSwgJ2ZpeGVkLXRvcGJhcicpO1xuXHR9XG59XG5cbiQod2luZG93KS5zY3JvbGwoc2Nyb2xsSGFuZGxlcik7XG4iLCIvKlxuICogU2Nyb2xsIFRvXG4gKlxuICogV2hlbiBhICdkYXRhLXNjcm9sbC10bycgZWxlbWVudCBpc1xuICogYWN0aXZhdGVkIChieSBjbGljayksIHNjcm9sbCBwYWdlIHRvXG4gKiBoaXMgZWxlbWVudC5cbiAqXG4gKiBkYXRhLXNjcm9sbC10bz1cIiM8aWQ+XCJcbiAqIGRhdGEtb2Zmc2V0PVwiPG9mZnNldD5cIlxuICogZGF0YS10aW1lPVwiPHRpbWU+XCJcbiAqXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKGV2KXtcbiAgICQoJ1tkYXRhLXNjcm9sbC10b10nKS5jc3MoJ2N1cnNvcicsICdwb2ludGVyJyk7XG4gfSk7XG5cbiAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtc2Nyb2xsLXRvXScsIGZ1bmN0aW9uKGV2KSB7XG4gIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgdmFyICRzY29wZSA9ICQoJ2h0bWwsIGJvZHknKTtcbiAgdmFyICR0YXJnZXQgPSAkKCQodGhpcykuYXR0cignZGF0YS1zY3JvbGwtdG8nKSk7XG4gIHZhciBkaWZmID0gJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbC1kaWZmJyk7XG4gIGNvbnNvbGUubG9nKGRpZmYpO1xuXG4gIGlmICghZGlmZikge1xuICBcdGRpZmYgPSAwO1xuXHR9XG5cbiAgaWYgKCAkKHRoaXMpLmNsb3Nlc3QoJy5maXhlZC1uYXZiYXInKS5sZW5ndGggPiAwICkge1xuICBcdGRpZmYgPSA5NDtcbiAgfVxuICAkc2NvcGUuYW5pbWF0ZSh7XG4gICAgc2Nyb2xsVG9wOiAkdGFyZ2V0Lm9mZnNldCgpLnRvcCAtIGRpZmZcbiAgfSwgNTAwKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9